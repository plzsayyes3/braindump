<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>テキスト表示ページ</title>
</head>
<body>

<!-- Combinedセクション -->
<div id="combinedcard">
    <h1>Combined</h1>
    <textarea id="combinedContent" rows="20" cols="50"></textarea>
    <button id="updateButton">Update Combined Content</button>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // ローカルストレージからデータを取得
    const weekData = localStorage.getItem("weekcard");
    const monthData = localStorage.getItem("monthcard");
    const quaterData = localStorage.getItem("quatercard");

    // Combine all data
    const combinedData = combineContent(weekData, monthData, quaterData);

    // Display combined data in the textarea
    displayContent("combinedContent", combinedData);
});

// Combine content from different sources
function combineContent(weekData, monthData, quaterData) {
    let combinedContent = "";

    if (weekData) {
        combinedContent += "# Week\n" + weekData + "\n\n";
    }

    if (monthData) {
        combinedContent += "# Month\n" + monthData + "\n\n";
    }

    if (quaterData) {
        combinedContent += "# Quater\n" + quaterData + "\n\n";
    }

    return combinedContent.trim();
}

// 指定したテキストエリアにコンテンツを表示する関数
function displayContent(textareaId, content) {
    const textarea = document.getElementById(textareaId);

    // コンテンツが存在するか確認
    if (content) {
        textarea.value = content;
    } else {
        // コンテンツがない場合はメッセージを表示
        textarea.value = "コンテンツがありません。";
    }
}

// ボタンがクリックされたときに実行される関数
document.getElementById("updateButton").addEventListener("click", function() {
    updateCombinedContent();
});

function updateCombinedContent() {
    const weekData = localStorage.getItem("weekcard");
    const monthData = localStorage.getItem("monthcard");
    const quaterData = localStorage.getItem("quatercard");

    // Combine all data
    const combinedData = combineContent(weekData, monthData, quaterData);

    // Display combined data in the textarea
    displayContent("combinedContent", combinedData);
}
</script>

</body>
</html>
